{% extends 'landing_page/base.html' %}

{% block content %} 


    <nav class="sidebar card py-2 fixed-left" style="margin-top: 5rem;">
      <a class="nav-link" href="#"> Categories  </a>
      <ul class="submenu collapse">
    <ol class="list-group list-group-numbered">
     
      
      {% for categ in categories %}
      <li class="list-group-item d-flex justify-content-between align-items-start">
        <div class="ms-2 me-auto" >
          <div class="fw-bold">
            <a href="{% url 'allPosts' categ.id %}">{{ categ.category }}</a>
          </div>
        </div>
        <button class="badge bg-primary rounded-pill">Subscribe</button>
      </li>
   

      {% endfor %}
   

    </ol>
  </ul>
    </nav>
    <script>
      document.addEventListener("DOMContentLoaded", function(){
document.querySelectorAll('.sidebar .nav-link').forEach(function(element){
  
  element.addEventListener('click', function (e) {

    let nextEl = element.nextElementSibling;
    let parentEl  = element.parentElement;	

      if(nextEl) {
          e.preventDefault();	
          let mycollapse = new bootstrap.Collapse(nextEl);
          
          if(nextEl.classList.contains('show')){
            mycollapse.hide();
          } else {
              mycollapse.show();
              // find other submenus with class=show
              var opened_submenu = parentEl.parentElement.querySelector('.submenu.show');
              // if it exists, then close all of them
              if(opened_submenu){
                new bootstrap.Collapse(opened_submenu);
              }
          }
      }
  }); // addEventListener
}) // forEach
}); 
// DOMContentLoaded  end
  </script> 


{% endblock content %} 
